# ============================================================================
# TEST DEFINITION CONFIGURATION
# ============================================================================
# This file defines all available test cases for each app.
# Test cases are organized by app and include various combinations of:
# - Models (default or all)
# - Run methods (module, pythonpath, cli)
# - Test suites (different argument combinations)
# - Extra flags specific to each app

# ============================================================================
# DETECTION APP
# ============================================================================
detection:
  description: "Object Detection Pipeline"
  module: "hailo_apps.python.pipeline_apps.detection.detection_pipeline"
  script: "hailo_apps/python/pipeline_apps/detection/detection_pipeline.py"
  cli: "hailo-detect"
  model_selection: "default"  # "default" or "all" - can be overridden by control config
  
  # Default test cases - basic functionality tests
  # Run methods are controlled by test_control_config.yaml
  default_test_cases:
    - name: "default_basic"
      description: "Basic default test with FPS display"
      test_suites: ["default"]
      extra_flags: []
    
    - name: "default_usb_camera"
      description: "Default model with USB camera"
      test_suites: ["usb_camera"]
      extra_flags: []
    
    - name: "default_rpi_camera"
      description: "Default model with RPi camera"
      test_suites: ["rpi_camera"]
      extra_flags: []
    
    - name: "default_video_file"
      description: "Default model with video file input"
      test_suites: ["video_file"]
      extra_flags: []
    
    - name: "default_hef_path"
      description: "Default model with explicit HEF path"
      test_suites: ["hef_path"]
      extra_flags: []
    
    - name: "default_video_hef_path"
      description: "Video file with explicit HEF path"
      test_suites: ["video_file", "hef_path"]
      extra_flags: []
    
    - name: "default_usb_hef_path"
      description: "USB camera with explicit HEF path"
      test_suites: ["usb_camera", "hef_path"]
      extra_flags: []
    
    - name: "default_rpi_hef_path"
      description: "RPi camera with explicit HEF path"
      test_suites: ["rpi_camera", "hef_path"]
      extra_flags: []
  
  # Special test cases - advanced functionality tests
  # Run methods are controlled by test_control_config.yaml
  special_test_cases:
    - name: "labels_json"
      description: "Test with labels JSON file"
      test_suites: ["labels"]
      extra_flags: []
    
    - name: "disable_sync"
      description: "Test with synchronization disabled"
      test_suites: ["disable_sync"]
      extra_flags: []
    
    - name: "disable_callback"
      description: "Test with callback disabled"
      test_suites: ["disable_callback"]
      extra_flags: []
    
    - name: "show_fps_only"
      description: "Test with FPS display only"
      test_suites: ["show_fps"]
      extra_flags: []
    
    - name: "combined_flags"
      description: "Test with multiple flags combined"
      test_suites: ["default"]
      extra_flags: ["--show-fps", "--disable-sync"]
    
    - name: "video_with_labels"
      description: "Video input with labels JSON"
      test_suites: ["video_file", "labels"]
      extra_flags: []
    
    - name: "usb_with_labels"
      description: "USB camera with labels JSON"
      test_suites: ["usb_camera", "labels"]
      extra_flags: []
    
    - name: "video_disable_sync"
      description: "Video file with sync disabled"
      test_suites: ["video_file", "disable_sync"]
      extra_flags: []
    
    - name: "usb_disable_sync"
      description: "USB camera with sync disabled"
      test_suites: ["usb_camera", "disable_sync"]
      extra_flags: []
    
    - name: "video_disable_callback"
      description: "Video file with callback disabled"
      test_suites: ["video_file", "disable_callback"]
      extra_flags: []
    
    - name: "hef_path_labels"
      description: "Explicit HEF path with labels JSON"
      test_suites: ["hef_path", "labels"]
      extra_flags: []
    
    - name: "video_hef_labels"
      description: "Video file, explicit HEF, and labels"
      test_suites: ["video_file", "hef_path", "labels"]
      extra_flags: []
    
    - name: "all_flags_combined"
      description: "All flags combined (video, hef, labels, disable sync)"
      test_suites: ["video_file", "hef_path", "labels", "disable_sync"]
      extra_flags: ["--show-fps"]

# ============================================================================
# SIMPLE DETECTION APP
# ============================================================================
simple_detection:
  description: "Simple Detection Pipeline"
  module: "hailo_apps.python.pipeline_apps.detection_simple.detection_pipeline_simple"
  script: "hailo_apps/python/pipeline_apps/detection_simple/detection_pipeline_simple.py"
  cli: "hailo-detect-simple"
  model_selection: "default"
  
  default_test_cases:
    - name: "default_basic"
      description: "Basic default test"
      test_suites: ["default"]
      extra_flags: []
    
    - name: "default_usb_camera"
      description: "Default model with USB camera"
      test_suites: ["usb_camera"]
      extra_flags: []
    
    - name: "default_rpi_camera"
      description: "Default model with RPi camera"
      test_suites: ["rpi_camera"]
      extra_flags: []
    
    - name: "default_video_file"
      description: "Default model with video file"
      test_suites: ["video_file"]
      extra_flags: []
    
    - name: "default_hef_path"
      description: "Default model with explicit HEF path"
      test_suites: ["hef_path"]
      extra_flags: []
    
    - name: "default_video_hef_path"
      description: "Video file with explicit HEF path"
      test_suites: ["video_file", "hef_path"]
      extra_flags: []
  
  special_test_cases:
    - name: "disable_sync"
      description: "Test with sync disabled"
      test_suites: ["disable_sync"]
      extra_flags: []
    
    - name: "video_disable_sync"
      description: "Video file with sync disabled"
      test_suites: ["video_file", "disable_sync"]
      extra_flags: []
    
    - name: "usb_disable_sync"
      description: "USB camera with sync disabled"
      test_suites: ["usb_camera", "disable_sync"]
      extra_flags: []

# ============================================================================
# FACE RECOGNITION APP
# ============================================================================
face_recognition:
  description: "Face Recognition Pipeline"
  module: "hailo_apps.python.pipeline_apps.face_recognition.face_recognition"
  script: "hailo_apps/python/pipeline_apps/face_recognition/face_recognition.py"
  cli: "hailo-face-recon"
  model_selection: "default"
  
  default_test_cases:
    - name: "default_basic"
      description: "Basic default test"
      test_suites: ["default"]
      extra_flags: []
    
    - name: "default_video_file"
      description: "Default model with face recognition video"
      test_suites: ["video_file"]
      extra_flags: []
    
    - name: "default_usb_camera"
      description: "Default model with USB camera"
      test_suites: ["usb_camera"]
      extra_flags: []
    
    - name: "default_rpi_camera"
      description: "Default model with RPi camera"
      test_suites: ["rpi_camera"]
      extra_flags: []
    
    - name: "default_hef_path"
      description: "Default model with explicit HEF path"
      test_suites: ["hef_path"]
      extra_flags: []
  
  special_test_cases:
    - name: "mode_train"
      description: "Test training mode"
      test_suites: ["mode-train"]
      extra_flags: []
    
    - name: "mode_delete"
      description: "Test delete mode"
      test_suites: ["mode-delete"]
      extra_flags: []
    
    - name: "with_labels"
      description: "Test with SCRFD labels JSON"
      test_suites: ["labels"]
      extra_flags: []
    
    - name: "video_mode_train"
      description: "Video file with training mode"
      test_suites: ["video_file", "mode-train"]
      extra_flags: []
    
    - name: "video_with_labels"
      description: "Video file with labels JSON"
      test_suites: ["video_file", "labels"]
      extra_flags: []
    
    - name: "usb_mode_train"
      description: "USB camera with training mode"
      test_suites: ["usb_camera", "mode-train"]
      extra_flags: []

# ============================================================================
# INSTANCE SEGMENTATION APP
# ============================================================================
instance_segmentation:
  description: "Instance Segmentation Pipeline"
  module: "hailo_apps.python.pipeline_apps.instance_segmentation.instance_segmentation_pipeline"
  script: "hailo_apps/python/pipeline_apps/instance_segmentation/instance_segmentation_pipeline.py"
  cli: "hailo-seg"
  model_selection: "default"
  
  default_test_cases:
    - name: "default_basic"
      description: "Basic default test"
      test_suites: ["default"]
      extra_flags: []
    
    - name: "default_video_file"
      description: "Default model with video file"
      test_suites: ["video_file"]
      extra_flags: []
    
    - name: "default_usb_camera"
      description: "Default model with USB camera"
      test_suites: ["usb_camera"]
      extra_flags: []
    
    - name: "default_rpi_camera"
      description: "Default model with RPi camera"
      test_suites: ["rpi_camera"]
      extra_flags: []
    
    - name: "default_hef_path"
      description: "Default model with explicit HEF path"
      test_suites: ["hef_path"]
      extra_flags: []
  
  special_test_cases:
    - name: "labels_json"
      description: "Test with labels JSON file"
      test_suites: ["labels"]
      extra_flags: []
    
    - name: "disable_sync"
      description: "Test with sync disabled"
      test_suites: ["disable_sync"]
      extra_flags: []
    
    - name: "video_labels"
      description: "Video file with labels JSON"
      test_suites: ["video_file", "labels"]
      extra_flags: []
    
    - name: "video_disable_sync"
      description: "Video file with sync disabled"
      test_suites: ["video_file", "disable_sync"]
      extra_flags: []
    
    - name: "hef_path_labels"
      description: "Explicit HEF path with labels JSON"
      test_suites: ["hef_path", "labels"]
      extra_flags: []

# ============================================================================
# POSE ESTIMATION APP
# ============================================================================
pose_estimation:
  description: "Pose Estimation Pipeline"
  module: "hailo_apps.python.pipeline_apps.pose_estimation.pose_estimation_pipeline"
  script: "hailo_apps/python/pipeline_apps/pose_estimation/pose_estimation_pipeline.py"
  cli: "hailo-pose"
  model_selection: "default"
  
  default_test_cases:
    - name: "default_basic"
      description: "Basic default test"
      test_suites: ["default"]
      extra_flags: []
    
    - name: "default_video_file"
      description: "Default model with video file"
      test_suites: ["video_file"]
      extra_flags: []
    
    - name: "default_usb_camera"
      description: "Default model with USB camera"
      test_suites: ["usb_camera"]
      extra_flags: []
  
  special_test_cases:
    - name: "disable_sync"
      description: "Test with sync disabled"
      test_suites: ["disable_sync"]
      extra_flags: []

# ============================================================================
# DEPTH APP
# ============================================================================
depth:
  description: "Depth Estimation Pipeline"
  module: "hailo_apps.python.pipeline_apps.depth.depth_pipeline"
  script: "hailo_apps/python/pipeline_apps/depth/depth_pipeline.py"
  cli: "hailo-depth"
  model_selection: "default"
  
  default_test_cases:
    - name: "default_basic"
      description: "Basic default test"
      test_suites: ["default"]
      extra_flags: []
    
    - name: "default_video_file"
      description: "Default model with video file"
      test_suites: ["video_file"]
      extra_flags: []
    
    - name: "default_usb_camera"
      description: "Default model with USB camera"
      test_suites: ["usb_camera"]
      extra_flags: []
  
  special_test_cases:
    - name: "disable_callback"
      description: "Test with callback disabled"
      test_suites: ["disable_callback"]
      extra_flags: []

# ============================================================================
# TILING APP
# ============================================================================
tiling:
  description: "Tiling Pipeline"
  module: "hailo_apps.python.pipeline_apps.tiling.tiling_pipeline"
  script: "hailo_apps/python/pipeline_apps/tiling/tiling_pipeline.py"
  cli: "hailo-tiling"
  model_selection: "default"
  
  default_test_cases:
    - name: "default_basic"
      description: "Basic default test"
      test_suites: ["default"]
      extra_flags: []
    
    - name: "default_video_file"
      description: "Default model with tiling video"
      test_suites: ["video_file"]
      extra_flags: []
    
    - name: "default_usb_camera"
      description: "Default model with USB camera"
      test_suites: ["usb_camera"]
      extra_flags: []
  
  special_test_cases:
    - name: "general_detection"
      description: "Test general detection mode"
      test_suites: ["general_detection"]
      extra_flags: []
    
    - name: "with_labels"
      description: "Test with VisDrone labels JSON"
      test_suites: ["labels"]
      extra_flags: []

# ============================================================================
# PADDLE OCR APP
# ============================================================================
paddle_ocr:
  description: "Paddle OCR Pipeline"
  module: "hailo_apps.python.pipeline_apps.paddle_ocr.paddle_ocr_pipeline"
  script: "hailo_apps/python/pipeline_apps/paddle_ocr/paddle_ocr_pipeline.py"
  cli: "hailo-ocr"
  model_selection: "default"
  
  default_test_cases:
    - name: "default_basic"
      description: "Basic default test"
      test_suites: ["default"]
      extra_flags: []
    
    - name: "default_video_file"
      description: "Default model with OCR video"
      test_suites: ["video_file"]
      extra_flags: []
    
    - name: "default_usb_camera"
      description: "Default model with USB camera"
      test_suites: ["usb_camera"]
      extra_flags: []
  
  special_test_cases:
    - name: "disable_sync"
      description: "Test with sync disabled"
      test_suites: ["disable_sync"]
      extra_flags: []

# ============================================================================
# CLIP APP
# ============================================================================
clip:
  description: "CLIP Pipeline"
  module: "hailo_apps.python.pipeline_apps.clip.clip_pipeline"
  script: "hailo_apps/python/pipeline_apps/clip/clip_pipeline.py"
  cli: "hailo-clip"
  model_selection: "default"
  
  default_test_cases:
    - name: "default_basic"
      description: "Basic default test"
      test_suites: ["default"]
      extra_flags: []
    
    - name: "default_video_file"
      description: "Default model with video file"
      test_suites: ["video_file"]
      extra_flags: []
    
    - name: "default_usb_camera"
      description: "Default model with USB camera"
      test_suites: ["usb_camera"]
      extra_flags: []
  
  special_test_cases: []

# ============================================================================
# RETRAIN APP
# ============================================================================
retrain:
  description: "Retraining Pipeline"
  module: "hailo_apps.python.pipeline_apps.retrain.retrain_pipeline"
  script: "hailo_apps/python/pipeline_apps/retrain/retrain_pipeline.py"
  cli: "hailo-retrain"
  model_selection: "default"
  
  default_test_cases:
    - name: "default_basic"
      description: "Basic default test with barcode model"
      test_suites: ["default"]
      extra_flags: []
    
    - name: "default_video_file"
      description: "Default model with barcode video"
      test_suites: ["video_file"]
      extra_flags: []
  
  special_test_cases:
    - name: "with_labels"
      description: "Test with barcode labels JSON"
      test_suites: ["labels"]
      extra_flags: []

# ============================================================================
# LANE DETECTION APP
# ============================================================================
lane_detection:
  description: "Lane Detection Pipeline"
  module: "hailo_apps.python.pipeline_apps.lane_detection.lane_detection_pipeline"
  script: "hailo_apps/python/pipeline_apps/lane_detection/lane_detection_pipeline.py"
  cli: "hailo-lane"
  model_selection: "default"
  
  default_test_cases:
    - name: "default_basic"
      description: "Basic default test"
      test_suites: ["default"]
      extra_flags: []
    
    - name: "default_video_file"
      description: "Default model with video file"
      test_suites: ["video_file"]
      extra_flags: []
    
    - name: "default_usb_camera"
      description: "Default model with USB camera"
      test_suites: ["usb_camera"]
      extra_flags: []
  
  special_test_cases:
    - name: "disable_sync"
      description: "Test with sync disabled"
      test_suites: ["disable_sync"]
      extra_flags: []

# ============================================================================
# SUPER RESOLUTION APP
# ============================================================================
super_resolution:
  description: "Super Resolution Pipeline"
  module: "hailo_apps.python.pipeline_apps.super_resolution.super_resolution_pipeline"
  script: "hailo_apps/python/pipeline_apps/super_resolution/super_resolution_pipeline.py"
  cli: "hailo-super-res"
  model_selection: "default"
  
  default_test_cases:
    - name: "default_basic"
      description: "Basic default test"
      test_suites: ["default"]
      extra_flags: []
    
    - name: "default_video_file"
      description: "Default model with video file"
      test_suites: ["video_file"]
      extra_flags: []
    
    - name: "default_usb_camera"
      description: "Default model with USB camera"
      test_suites: ["usb_camera"]
      extra_flags: []
  
  special_test_cases:
    - name: "disable_sync"
      description: "Test with sync disabled"
      test_suites: ["disable_sync"]
      extra_flags: []

# ============================================================================
# REID MULTISOURCE APP
# ============================================================================
reid_multisource:
  description: "REID Multisource Pipeline"
  module: "hailo_apps.python.pipeline_apps.reid_multisource.reid_multisource_pipeline"
  script: "hailo_apps/python/pipeline_apps/reid_multisource/reid_multisource_pipeline.py"
  cli: "hailo-reid"
  model_selection: "default"
  
  default_test_cases:
    - name: "default_basic"
      description: "Basic default test"
      test_suites: ["default"]
      extra_flags: []
    
    - name: "default_video_file"
      description: "Default model with video file"
      test_suites: ["video_file"]
      extra_flags: []
  
  special_test_cases:
    - name: "sources_multiple"
      description: "Test with multiple sources"
      test_suites: ["sources"]
      extra_flags: []

# ============================================================================
# TEST SUITES - ARGUMENT COMBINATIONS
# ============================================================================
# These define common argument combinations used across test cases
test_suites:
  default:
    description: "Default arguments - includes FPS display"
    args: ["--show-fps"]
  
  usb_camera:
    description: "Use USB camera as input"
    args: ["--input", "usb"]
  
  rpi_camera:
    description: "Use Raspberry Pi camera as input"
    args: ["--input", "rpi"]
  
  video_file:
    description: "Use video file as input"
    args: ["--input", "${VIDEO_PATH}"]
  
  hef_path:
    description: "Specify HEF path explicitly"
    args: ["--hef-path", "${HEF_PATH}"]
  
  disable_sync:
    description: "Disable synchronization"
    args: ["--disable-sync"]
  
  disable_callback:
    description: "Disable callback"
    args: ["--disable-callback"]
  
  show_fps:
    description: "Show FPS counter"
    args: ["--show-fps"]
  
  labels:
    description: "Use labels JSON file"
    args: ["--labels-json", "${LABELS_JSON_PATH}"]
  
  mode-train:
    description: "Set mode to train (for face recognition)"
    args: ["--mode", "train"]
  
  mode-delete:
    description: "Set mode to delete (for face recognition)"
    args: ["--mode", "delete"]
  
  sources:
    description: "Specify multiple sources (for multisource/reid)"
    args: ["--sources", "/dev/video0,${VIDEO_PATH}"]
  
  general_detection:
    description: "Use general detection mode (for tiling)"
    args: ["--general-detection"]

# ============================================================================
# RESOURCE PATHS
# ============================================================================
resources:
  root_path: "/usr/local/hailo/resources"
  videos:
    default: "example.mp4"
    example_640: "example_640.mp4"
    face_recognition: "face_recognition.mp4"
    barcode: "barcode.mp4"
    tiling_visdrone: "tiling_visdrone_720p.mp4"
    ocr: "ocr.mp4"
  pipeline_videos:
    detection: "example.mp4"
    simple_detection: "example.mp4"
    face_recognition: "face_recognition.mp4"
    instance_segmentation: "example.mp4"
    pose_estimation: "example.mp4"
    depth: "example.mp4"
    tiling: "tiling_visdrone_720p.mp4"
    paddle_ocr: "ocr.mp4"
    clip: "example.mp4"
    retrain: "barcode.mp4"
    lane_detection: "example.mp4"
    super_resolution: "example.mp4"
    reid_multisource: "example.mp4"
  json:
    labels: "hailo_4_classes.json"
    barcode_labels: "barcode_labels.json"
    scrfd: "scrfd.json"
    yolov5m_seg: "yolov5m_seg.json"
    yolov5n_seg: "yolov5n_seg.json"
    visdrone: "visdrone.json"

