# ============================================================================
# TEST DEFINITION CONFIGURATION
# ============================================================================
# This file defines all available test cases for each app.
# Test cases are organized by app and include various combinations of:
# - Models (default or all)
# - Run methods (module, pythonpath, cli)
# - Test suites (different argument combinations)
# - Extra flags specific to each app

# ============================================================================
# LOGGING CONFIGURATION
# ============================================================================
logging:
  base_dir: "/var/log/tests"
  level: "INFO"  # DEBUG | INFO | WARNING | ERROR | CRITICAL
  format: "[%(asctime)s] [%(levelname)s] [%(name)s] %(message)s"
  subdirs:
    per_app:
      detection:
        default: "/var/log/tests/detection/default"
        extra: "/var/log/tests/detection/extra"
        all: "/var/log/tests/detection/all"
      simple_detection:
        default: "/var/log/tests/simple_detection/default"
        extra: "/var/log/tests/simple_detection/extra"
        all: "/var/log/tests/simple_detection/all"
      face_recognition:
        default: "/var/log/tests/face_recognition/default"
        extra: "/var/log/tests/face_recognition/extra"
        all: "/var/log/tests/face_recognition/all"
      instance_segmentation:
        default: "/var/log/tests/instance_segmentation/default"
        extra: "/var/log/tests/instance_segmentation/extra"
        all: "/var/log/tests/instance_segmentation/all"
      pose_estimation:
        default: "/var/log/tests/pose_estimation/default"
        extra: "/var/log/tests/pose_estimation/extra"
        all: "/var/log/tests/pose_estimation/all"
      depth:
        default: "/var/log/tests/depth/default"
        extra: "/var/log/tests/depth/extra"
        all: "/var/log/tests/depth/all"
      tiling:
        default: "/var/log/tests/tiling/default"
        extra: "/var/log/tests/tiling/extra"
        all: "/var/log/tests/tiling/all"
      paddle_ocr:
        default: "/var/log/tests/paddle_ocr/default"
        extra: "/var/log/tests/paddle_ocr/extra"
        all: "/var/log/tests/paddle_ocr/all"
      clip:
        default: "/var/log/tests/clip/default"
        extra: "/var/log/tests/clip/extra"
        all: "/var/log/tests/clip/all"
      retrain:
        default: "/var/log/tests/retrain/default"
        extra: "/var/log/tests/retrain/extra"
        all: "/var/log/tests/retrain/all"
      lane_detection:
        default: "/var/log/tests/lane_detection/default"
        extra: "/var/log/tests/lane_detection/extra"
        all: "/var/log/tests/lane_detection/all"
      super_resolution:
        default: "/var/log/tests/super_resolution/default"
        extra: "/var/log/tests/super_resolution/extra"
        all: "/var/log/tests/super_resolution/all"
      reid_multisource:
        default: "/var/log/tests/reid_multisource/default"
        extra: "/var/log/tests/reid_multisource/extra"
        all: "/var/log/tests/reid_multisource/all"

# ============================================================================
# COMMON TEST CASES (Default test cases for all apps)
# ============================================================================
# These test cases are common across all apps. The test runner will resolve:
# - ${HEF_PATH}: From resources_config.yaml based on app, architecture, and model selection
# - ${VIDEO_PATH}: From resources_config.yaml based on app
# - ${LABELS_JSON_PATH}: From resources_config.yaml based on app
# - Other variables as needed
common_test_cases:
  default_test_cases:
    - name: "default_basic"
      description: "Basic default test with FPS display"
      test_suites: ["default"]
      extra_flags: []
    
    - name: "default_usb_camera"
      description: "Default model with USB camera"
      test_suites: ["usb_camera"]
      extra_flags: []
    
    - name: "default_rpi_camera"
      description: "Default model with RPi camera"
      test_suites: ["rpi_camera"]
      extra_flags: []
    
    - name: "default_video_file"
      description: "Default model with video file input"
      test_suites: ["video_file"]
      extra_flags: []
    
    - name: "default_hef_path"
      description: "Default model with explicit HEF path (resolved from resources_config)"
      test_suites: ["hef_path"]
      extra_flags: []
    
    - name: "default_video_hef_path"
      description: "Video file with explicit HEF path (resolved from resources_config)"
      test_suites: ["video_file", "hef_path"]
      extra_flags: []
    
    - name: "default_usb_hef_path"
      description: "USB camera with explicit HEF path (resolved from resources_config)"
      test_suites: ["usb_camera", "hef_path"]
      extra_flags: []
    
    - name: "default_rpi_hef_path"
      description: "RPi camera with explicit HEF path (resolved from resources_config)"
      test_suites: ["rpi_camera", "hef_path"]
      extra_flags: []
    
    - name: "default_disable_sync"
      description: "Default with synchronization disabled"
      test_suites: ["disable_sync"]
      extra_flags: []
    
    - name: "default_disable_callback"
      description: "Default with callback disabled"
      test_suites: ["disable_callback"]
      extra_flags: []
    
    - name: "default_use_frame"
      description: "Default with frame access enabled"
      test_suites: ["use_frame"]
      extra_flags: []
    
    - name: "default_dump_dot"
      description: "Default with pipeline graph export"
      test_suites: ["dump_dot"]
      extra_flags: []
    
    - name: "default_batch_size_2"
      description: "Default with batch size 2"
      test_suites: ["batch_size_2"]
      extra_flags: []
    
    - name: "default_batch_size_4"
      description: "Default with batch size 4"
      test_suites: ["batch_size_4"]
      extra_flags: []
    
    - name: "default_width_height"
      description: "Default with custom resolution"
      test_suites: ["width_height"]
      extra_flags: []
    
    - name: "default_save_output"
      description: "Default with output saving enabled"
      test_suites: ["save_output"]
      extra_flags: []
    
    - name: "default_arch_hailo8"
      description: "Default with Hailo8 architecture"
      test_suites: ["arch_hailo8"]
      extra_flags: []
    
    - name: "default_arch_hailo8l"
      description: "Default with Hailo8L architecture"
      test_suites: ["arch_hailo8l"]
      extra_flags: []
    
    - name: "default_arch_hailo10h"
      description: "Default with Hailo10H architecture"
      test_suites: ["arch_hailo10h"]
      extra_flags: []
    
    - name: "default_frame_rate"
      description: "Default with custom frame rate"
      test_suites: ["frame_rate"]
      extra_flags: []
    
    - name: "default_video_disable_sync"
      description: "Video file with sync disabled"
      test_suites: ["video_file", "disable_sync"]
      extra_flags: []
    
    - name: "default_usb_disable_sync"
      description: "USB camera with sync disabled"
      test_suites: ["usb_camera", "disable_sync"]
      extra_flags: []
    
    - name: "default_video_disable_callback"
      description: "Video file with callback disabled"
      test_suites: ["video_file", "disable_callback"]
      extra_flags: []
    
    - name: "default_video_use_frame"
      description: "Video file with frame access enabled"
      test_suites: ["video_file", "use_frame"]
      extra_flags: []
    
    - name: "default_disable_sync_disable_callback"
      description: "Sync and callback both disabled"
      test_suites: ["disable_sync", "disable_callback"]
      extra_flags: []
    
    - name: "default_disable_sync_use_frame"
      description: "Sync disabled with frame access"
      test_suites: ["disable_sync", "use_frame"]
      extra_flags: []
    
    - name: "default_all_pipeline_flags"
      description: "All pipeline flags combined"
      test_suites: ["disable_sync", "disable_callback", "use_frame", "dump_dot"]
      extra_flags: []

# ============================================================================
# DETECTION APP
# ============================================================================
detection:
  description: "Object Detection Pipeline"
  module: "hailo_apps.python.pipeline_apps.detection.detection_pipeline"
  script: "hailo_apps/python/pipeline_apps/detection/detection_pipeline.py"
  cli: "hailo-detect"
  model_selection: "default"  # "default" or "all" - can be overridden by control config
  
  # Use common default test cases (defined above)
  # The runner will resolve ${HEF_PATH} from resources_config.yaml based on:
  # - app: detection
  # - architecture: hailo8/hailo8l/hailo10h (from test context)
  # - model_selection: default/all
  default_test_cases: "common"  # Reference to common_test_cases.default_test_cases
  
  # App-specific test cases - Detection app unique flags (labels-json)
  special_test_cases:
    # Labels JSON combinations
    - name: "labels_json"
      description: "Test with labels JSON file"
      test_suites: ["labels"]
      extra_flags: []
    
    - name: "video_with_labels"
      description: "Video input with labels JSON"
      test_suites: ["video_file", "labels"]
      extra_flags: []
    
    - name: "usb_with_labels"
      description: "USB camera with labels JSON"
      test_suites: ["usb_camera", "labels"]
      extra_flags: []
    
    - name: "rpi_with_labels"
      description: "RPi camera with labels JSON"
      test_suites: ["rpi_camera", "labels"]
      extra_flags: []
    
    - name: "hef_path_labels"
      description: "Explicit HEF path with labels JSON"
      test_suites: ["hef_path", "labels"]
      extra_flags: []
    
    - name: "video_hef_labels"
      description: "Video file, explicit HEF, and labels"
      test_suites: ["video_file", "hef_path", "labels"]
      extra_flags: []
    
    - name: "usb_hef_labels"
      description: "USB camera, explicit HEF, and labels"
      test_suites: ["usb_camera", "hef_path", "labels"]
      extra_flags: []
    
    # Pipeline flags combinations
    - name: "video_disable_sync"
      description: "Video file with sync disabled"
      test_suites: ["video_file", "disable_sync"]
      extra_flags: []
    
    - name: "usb_disable_sync"
      description: "USB camera with sync disabled"
      test_suites: ["usb_camera", "disable_sync"]
      extra_flags: []
    
    - name: "video_disable_callback"
      description: "Video file with callback disabled"
      test_suites: ["video_file", "disable_callback"]
      extra_flags: []
    
    - name: "video_use_frame"
      description: "Video file with frame access enabled"
      test_suites: ["video_file", "use_frame"]
      extra_flags: []
    
    - name: "video_dump_dot"
      description: "Video file with pipeline graph export"
      test_suites: ["video_file", "dump_dot"]
      extra_flags: []
    
    - name: "disable_sync_disable_callback"
      description: "Sync and callback both disabled"
      test_suites: ["disable_sync", "disable_callback"]
      extra_flags: []
    
    - name: "disable_sync_use_frame"
      description: "Sync disabled with frame access"
      test_suites: ["disable_sync", "use_frame"]
      extra_flags: []
    
    - name: "disable_sync_dump_dot"
      description: "Sync disabled with graph export"
      test_suites: ["disable_sync", "dump_dot"]
      extra_flags: []
    
    - name: "disable_callback_use_frame"
      description: "Callback disabled with frame access"
      test_suites: ["disable_callback", "use_frame"]
      extra_flags: []
    
    - name: "disable_callback_dump_dot"
      description: "Callback disabled with graph export"
      test_suites: ["disable_callback", "dump_dot"]
      extra_flags: []
    
    - name: "use_frame_dump_dot"
      description: "Frame access with graph export"
      test_suites: ["use_frame", "dump_dot"]
      extra_flags: []
    
    - name: "all_pipeline_flags"
      description: "All pipeline flags combined"
      test_suites: ["disable_sync", "disable_callback", "use_frame", "dump_dot"]
      extra_flags: []
    
    # Full combinations
    - name: "video_hef_labels_disable_sync"
      description: "Video, HEF, labels, and sync disabled"
      test_suites: ["video_file", "hef_path", "labels", "disable_sync"]
      extra_flags: []
    
    - name: "usb_hef_labels_disable_sync"
      description: "USB, HEF, labels, and sync disabled"
      test_suites: ["usb_camera", "hef_path", "labels", "disable_sync"]
      extra_flags: []
    
    - name: "video_hef_labels_disable_sync_disable_callback"
      description: "Full combination with all flags"
      test_suites: ["video_file", "hef_path", "labels", "disable_sync", "disable_callback"]
      extra_flags: []
    
    - name: "video_hef_labels_batch_size"
      description: "Video, HEF, labels with batch size"
      test_suites: ["video_file", "hef_path", "labels", "batch_size_2"]
      extra_flags: []
    
    - name: "video_hef_labels_width_height"
      description: "Video, HEF, labels with custom resolution"
      test_suites: ["video_file", "hef_path", "labels", "width_height"]
      extra_flags: []

# ============================================================================
# SIMPLE DETECTION APP
# ============================================================================
simple_detection:
  description: "Simple Detection Pipeline"
  module: "hailo_apps.python.pipeline_apps.detection_simple.detection_pipeline_simple"
  script: "hailo_apps/python/pipeline_apps/detection_simple/detection_pipeline_simple.py"
  cli: "hailo-detect-simple"
  model_selection: "default"
  
  # Use common default test cases
  default_test_cases: "common"
  
  # App-specific test cases - Simple Detection app unique flags (labels-json)
  special_test_cases:
    # Labels JSON combinations (same as detection)
    - name: "labels_json"
      description: "Test with labels JSON file"
      test_suites: ["labels"]
      extra_flags: []
    
    - name: "video_with_labels"
      description: "Video input with labels JSON"
      test_suites: ["video_file", "labels"]
      extra_flags: []
    
    - name: "usb_with_labels"
      description: "USB camera with labels JSON"
      test_suites: ["usb_camera", "labels"]
      extra_flags: []
    
    - name: "hef_path_labels"
      description: "Explicit HEF path with labels JSON"
      test_suites: ["hef_path", "labels"]
      extra_flags: []
    
    - name: "video_hef_labels"
      description: "Video file, explicit HEF, and labels"
      test_suites: ["video_file", "hef_path", "labels"]
      extra_flags: []
    
    # Pipeline flags combinations
    - name: "video_disable_sync"
      description: "Video file with sync disabled"
      test_suites: ["video_file", "disable_sync"]
      extra_flags: []
    
    - name: "usb_disable_sync"
      description: "USB camera with sync disabled"
      test_suites: ["usb_camera", "disable_sync"]
      extra_flags: []
    
    - name: "video_disable_callback"
      description: "Video file with callback disabled"
      test_suites: ["video_file", "disable_callback"]
      extra_flags: []
    
    - name: "video_use_frame"
      description: "Video file with frame access enabled"
      test_suites: ["video_file", "use_frame"]
      extra_flags: []
    
    - name: "disable_sync_disable_callback"
      description: "Sync and callback both disabled"
      test_suites: ["disable_sync", "disable_callback"]
      extra_flags: []
    
    # Full combinations
    - name: "video_hef_labels_disable_sync"
      description: "Video, HEF, labels, and sync disabled"
      test_suites: ["video_file", "hef_path", "labels", "disable_sync"]
      extra_flags: []
    
    - name: "usb_hef_labels_disable_sync"
      description: "USB, HEF, labels, and sync disabled"
      test_suites: ["usb_camera", "hef_path", "labels", "disable_sync"]
      extra_flags: []

# ============================================================================
# FACE RECOGNITION APP
# ============================================================================
face_recognition:
  description: "Face Recognition Pipeline"
  module: "hailo_apps.python.pipeline_apps.face_recognition.face_recognition"
  script: "hailo_apps/python/pipeline_apps/face_recognition/face_recognition.py"
  cli: "hailo-face-recon"
  model_selection: "default"
  
  # Use common default test cases
  default_test_cases: "common"
  
  # App-specific test cases - Face Recognition unique flags (mode: run/train/delete, labels)
  special_test_cases:
    # Mode combinations (run/train/delete)
    - name: "mode_train"
      description: "Test training mode"
      test_suites: ["mode-train"]
      extra_flags: []
    
    - name: "mode_delete"
      description: "Test delete mode"
      test_suites: ["mode-delete"]
      extra_flags: []
    
    - name: "video_mode_train"
      description: "Video file with training mode"
      test_suites: ["video_file", "mode-train"]
      extra_flags: []
    
    - name: "usb_mode_train"
      description: "USB camera with training mode"
      test_suites: ["usb_camera", "mode-train"]
      extra_flags: []
    
    - name: "rpi_mode_train"
      description: "RPi camera with training mode"
      test_suites: ["rpi_camera", "mode-train"]
      extra_flags: []
    
    - name: "video_mode_delete"
      description: "Video file with delete mode"
      test_suites: ["video_file", "mode-delete"]
      extra_flags: []
    
    - name: "usb_mode_delete"
      description: "USB camera with delete mode"
      test_suites: ["usb_camera", "mode-delete"]
      extra_flags: []
    
    - name: "hef_path_mode_train"
      description: "Explicit HEF path with training mode"
      test_suites: ["hef_path", "mode-train"]
      extra_flags: []
    
    # Labels combinations (SCRFD)
    - name: "with_labels"
      description: "Test with SCRFD labels JSON"
      test_suites: ["labels"]
      extra_flags: []
    
    - name: "video_with_labels"
      description: "Video file with labels JSON"
      test_suites: ["video_file", "labels"]
      extra_flags: []
    
    - name: "usb_with_labels"
      description: "USB camera with labels JSON"
      test_suites: ["usb_camera", "labels"]
      extra_flags: []
    
    - name: "mode_train_labels"
      description: "Training mode with labels JSON"
      test_suites: ["mode-train", "labels"]
      extra_flags: []
    
    - name: "video_mode_train_labels"
      description: "Video file, training mode, and labels"
      test_suites: ["video_file", "mode-train", "labels"]
      extra_flags: []
    
    - name: "usb_mode_train_labels"
      description: "USB camera, training mode, and labels"
      test_suites: ["usb_camera", "mode-train", "labels"]
      extra_flags: []
    
    # Pipeline flags with modes
    - name: "mode_train_disable_sync"
      description: "Training mode with sync disabled"
      test_suites: ["mode-train", "disable_sync"]
      extra_flags: []
    
    - name: "video_mode_train_disable_sync"
      description: "Video file, training mode, sync disabled"
      test_suites: ["video_file", "mode-train", "disable_sync"]
      extra_flags: []
    
    - name: "video_mode_train_disable_callback"
      description: "Video file, training mode, callback disabled"
      test_suites: ["video_file", "mode-train", "disable_callback"]
      extra_flags: []
    
    # Full combinations
    - name: "video_hef_mode_train_labels"
      description: "Video, HEF, training mode, and labels"
      test_suites: ["video_file", "hef_path", "mode-train", "labels"]
      extra_flags: []
    
    - name: "usb_hef_mode_train_labels_disable_sync"
      description: "USB, HEF, training mode, labels, sync disabled"
      test_suites: ["usb_camera", "hef_path", "mode-train", "labels", "disable_sync"]
      extra_flags: []

# ============================================================================
# INSTANCE SEGMENTATION APP
# ============================================================================
instance_segmentation:
  description: "Instance Segmentation Pipeline"
  module: "hailo_apps.python.pipeline_apps.instance_segmentation.instance_segmentation_pipeline"
  script: "hailo_apps/python/pipeline_apps/instance_segmentation/instance_segmentation_pipeline.py"
  cli: "hailo-seg"
  model_selection: "default"
  
  # Use common default test cases
  default_test_cases: "common"
  
  # App-specific test cases - Instance Segmentation unique flags (labels-json, batch-size)
  special_test_cases:
    - name: "labels_json"
      description: "Test with labels JSON file"
      test_suites: ["labels"]
      extra_flags: []
    
    - name: "disable_sync"
      description: "Test with sync disabled"
      test_suites: ["disable_sync"]
      extra_flags: []
    
    - name: "video_labels"
      description: "Video file with labels JSON"
      test_suites: ["video_file", "labels"]
      extra_flags: []
    
    - name: "video_disable_sync"
      description: "Video file with sync disabled"
      test_suites: ["video_file", "disable_sync"]
      extra_flags: []
    
    - name: "hef_path_labels"
      description: "Explicit HEF path with labels JSON"
      test_suites: ["hef_path", "labels"]
      extra_flags: []

# ============================================================================
# POSE ESTIMATION APP
# ============================================================================
pose_estimation:
  description: "Pose Estimation Pipeline"
  module: "hailo_apps.python.pipeline_apps.pose_estimation.pose_estimation_pipeline"
  script: "hailo_apps/python/pipeline_apps/pose_estimation/pose_estimation_pipeline.py"
  cli: "hailo-pose"
  model_selection: "default"
  
  # Use common default test cases
  default_test_cases: "common"
  
  # App-specific test cases - Pose Estimation unique flags (batch-size)
  special_test_cases:
    - name: "disable_sync"
      description: "Test with sync disabled"
      test_suites: ["disable_sync"]
      extra_flags: []

# ============================================================================
# DEPTH APP
# ============================================================================
depth:
  description: "Depth Estimation Pipeline"
  module: "hailo_apps.python.pipeline_apps.depth.depth_pipeline"
  script: "hailo_apps/python/pipeline_apps/depth/depth_pipeline.py"
  cli: "hailo-depth"
  model_selection: "default"
  
  # Use common default test cases
  default_test_cases: "common"
  
  # App-specific test cases - Depth unique flags (disable-callback)
  special_test_cases:
    - name: "disable_callback"
      description: "Test with callback disabled"
      test_suites: ["disable_callback"]
      extra_flags: []

# ============================================================================
# TILING APP
# ============================================================================
tiling:
  description: "Tiling Pipeline"
  module: "hailo_apps.python.pipeline_apps.tiling.tiling_pipeline"
  script: "hailo_apps/python/pipeline_apps/tiling/tiling_pipeline.py"
  cli: "hailo-tiling"
  model_selection: "default"
  
  # Use common default test cases
  default_test_cases: "common"
  
  # App-specific test cases - Tiling unique flags (tiles, multi-scale, labels, general-detection)
  special_test_cases:
    - name: "general_detection"
      description: "Test general detection mode"
      test_suites: ["general_detection"]
      extra_flags: []
    
    - name: "with_labels"
      description: "Test with VisDrone labels JSON"
      test_suites: ["labels"]
      extra_flags: []

# ============================================================================
# PADDLE OCR APP
# ============================================================================
paddle_ocr:
  description: "Paddle OCR Pipeline"
  module: "hailo_apps.python.pipeline_apps.paddle_ocr.paddle_ocr_pipeline"
  script: "hailo_apps/python/pipeline_apps/paddle_ocr/paddle_ocr_pipeline.py"
  cli: "hailo-ocr"
  model_selection: "default"
  
  # Use common default test cases
  default_test_cases: "common"
  
  # App-specific test cases - Paddle OCR unique flags (disable-sync)
  special_test_cases:
    - name: "disable_sync"
      description: "Test with sync disabled"
      test_suites: ["disable_sync"]
      extra_flags: []

# ============================================================================
# CLIP APP
# ============================================================================
clip:
  description: "CLIP Pipeline"
  module: "hailo_apps.python.pipeline_apps.clip.clip_pipeline"
  script: "hailo_apps/python/pipeline_apps/clip/clip_pipeline.py"
  cli: "hailo-clip"
  model_selection: "default"
  
  # Use common default test cases
  default_test_cases: "common"
  
  # App-specific test cases - CLIP unique flags (detector, json-path, detection-threshold, disable-runtime-prompts)
  special_test_cases: []

# ============================================================================
# RETRAIN APP
# ============================================================================
retrain:
  description: "Retraining Pipeline"
  module: "hailo_apps.python.pipeline_apps.retrain.retrain_pipeline"
  script: "hailo_apps/python/pipeline_apps/retrain/retrain_pipeline.py"
  cli: "hailo-retrain"
  model_selection: "default"
  
  # Use common default test cases
  default_test_cases: "common"
  
  # App-specific test cases - Retrain unique flags (labels-json)
  special_test_cases:
    - name: "with_labels"
      description: "Test with barcode labels JSON"
      test_suites: ["labels"]
      extra_flags: []

# ============================================================================
# LANE DETECTION APP
# ============================================================================
lane_detection:
  description: "Lane Detection Pipeline"
  module: "hailo_apps.python.pipeline_apps.lane_detection.lane_detection_pipeline"
  script: "hailo_apps/python/pipeline_apps/lane_detection/lane_detection_pipeline.py"
  cli: "hailo-lane"
  model_selection: "default"
  
  # Use common default test cases
  default_test_cases: "common"
  
  # App-specific test cases - Lane Detection unique flags (disable-sync)
  special_test_cases:
    - name: "disable_sync"
      description: "Test with sync disabled"
      test_suites: ["disable_sync"]
      extra_flags: []

# ============================================================================
# SUPER RESOLUTION APP
# ============================================================================
super_resolution:
  description: "Super Resolution Pipeline"
  module: "hailo_apps.python.pipeline_apps.super_resolution.super_resolution_pipeline"
  script: "hailo_apps/python/pipeline_apps/super_resolution/super_resolution_pipeline.py"
  cli: "hailo-super-res"
  model_selection: "default"
  
  # Use common default test cases
  default_test_cases: "common"
  
  # App-specific test cases - Super Resolution unique flags (disable-sync)
  special_test_cases:
    - name: "disable_sync"
      description: "Test with sync disabled"
      test_suites: ["disable_sync"]
      extra_flags: []

# ============================================================================
# REID MULTISOURCE APP
# ============================================================================
reid_multisource:
  description: "REID Multisource Pipeline"
  module: "hailo_apps.python.pipeline_apps.reid_multisource.reid_multisource_pipeline"
  script: "hailo_apps/python/pipeline_apps/reid_multisource/reid_multisource_pipeline.py"
  cli: "hailo-reid"
  model_selection: "default"
  
  # Use common default test cases
  default_test_cases: "common"
  
  # App-specific test cases - REID Multisource unique flags (sources)
  special_test_cases:
    - name: "sources_multiple"
      description: "Test with multiple sources"
      test_suites: ["sources"]
      extra_flags: []

# ============================================================================
# TEST SUITES - ARGUMENT COMBINATIONS
# ============================================================================
# These define common argument combinations used across test cases
test_suites:
  default:
    description: "Default arguments - includes FPS display"
    args: ["--show-fps"]
  
  usb_camera:
    description: "Use USB camera as input"
    args: ["--input", "usb"]
  
  rpi_camera:
    description: "Use Raspberry Pi camera as input"
    args: ["--input", "rpi"]
  
  video_file:
    description: "Use video file as input"
    args: ["--input", "${VIDEO_PATH}"]
  
  hef_path:
    description: "Specify HEF path explicitly"
    args: ["--hef-path", "${HEF_PATH}"]
  
  disable_sync:
    description: "Disable synchronization"
    args: ["--disable-sync"]
  
  disable_callback:
    description: "Disable callback"
    args: ["--disable-callback"]
  
  show_fps:
    description: "Show FPS counter"
    args: ["--show-fps"]
  
  labels:
    description: "Use labels JSON file"
    args: ["--labels-json", "${LABELS_JSON_PATH}"]
  
  mode-train:
    description: "Set mode to train (for face recognition)"
    args: ["--mode", "train"]
  
  mode-delete:
    description: "Set mode to delete (for face recognition)"
    args: ["--mode", "delete"]
  
  sources:
    description: "Specify multiple sources (for multisource/reid)"
    args: ["--sources", "/dev/video0,${VIDEO_PATH}"]
  
  general_detection:
    description: "Use general detection mode (for tiling)"
    args: ["--general-detection"]
  
  use_frame:
    description: "Enable frame access in callback"
    args: ["--use-frame"]
  
  dump_dot:
    description: "Export pipeline graph to DOT file"
    args: ["--dump-dot"]
  
  batch_size_2:
    description: "Set batch size to 2"
    args: ["--batch-size", "2"]
  
  batch_size_4:
    description: "Set batch size to 4"
    args: ["--batch-size", "4"]
  
  width_height:
    description: "Set custom output resolution"
    args: ["--width", "640", "--height", "640"]
  
  save_output:
    description: "Enable output file saving"
    args: ["--save-output"]
  
  arch_hailo8:
    description: "Target Hailo8 architecture"
    args: ["--arch", "hailo8"]
  
  arch_hailo8l:
    description: "Target Hailo8L architecture"
    args: ["--arch", "hailo8l"]
  
  arch_hailo10h:
    description: "Target Hailo10H architecture"
    args: ["--arch", "hailo10h"]
  
  frame_rate:
    description: "Set target frame rate"
    args: ["--frame-rate", "30"]
  
  # Tiling-specific test suites
  tiles_2x2:
    description: "Manual tiling 2x2"
    args: ["--tiles-x", "2", "--tiles-y", "2"]
  
  tiles_3x3:
    description: "Manual tiling 3x3"
    args: ["--tiles-x", "3", "--tiles-y", "3"]
  
  min_overlap:
    description: "Set minimum overlap ratio"
    args: ["--min-overlap", "0.2"]
  
  multi_scale:
    description: "Enable multi-scale tiling"
    args: ["--multi-scale"]
  
  scale_levels_2:
    description: "Multi-scale with 2 levels"
    args: ["--multi-scale", "--scale-levels", "2"]
  
  scale_levels_3:
    description: "Multi-scale with 3 levels"
    args: ["--multi-scale", "--scale-levels", "3"]
  
  iou_threshold:
    description: "Set NMS IOU threshold"
    args: ["--iou-threshold", "0.4"]
  
  border_threshold:
    description: "Set border threshold for multi-scale"
    args: ["--border-threshold", "0.2"]
  
  # CLIP-specific test suites
  detector_none:
    description: "CLIP with no detector"
    args: ["--detector", "none"]
  
  detector_person:
    description: "CLIP with person detector"
    args: ["--detector", "person"]
  
  detector_face:
    description: "CLIP with face detector"
    args: ["--detector", "face"]
  
  json_path:
    description: "CLIP JSON path for embeddings"
    args: ["--json-path", "${JSON_PATH}"]
  
  detection_threshold:
    description: "CLIP detection threshold"
    args: ["--detection-threshold", "0.6"]
  
  disable_runtime_prompts:
    description: "CLIP disable runtime prompts"
    args: ["--disable-runtime-prompts"]
  
  # REID Multisource-specific
  sources_single:
    description: "REID single source"
    args: ["--sources", "/dev/video0"]
  
  sources_multiple:
    description: "REID multiple sources"
    args: ["--sources", "/dev/video0,${VIDEO_PATH}"]
  
  sources_width_height:
    description: "REID sources with resolution"
    args: ["--sources", "/dev/video0,${VIDEO_PATH}", "--width", "640", "--height", "640"]

# ============================================================================
# RESOURCE PATHS
# ============================================================================
resources:
  root_path: "/usr/local/hailo/resources"
  videos:
    default: "example.mp4"
    example_640: "example_640.mp4"
    face_recognition: "face_recognition.mp4"
    barcode: "barcode.mp4"
    tiling_visdrone: "tiling_visdrone_720p.mp4"
    ocr: "ocr.mp4"
  pipeline_videos:
    detection: "example.mp4"
    simple_detection: "example.mp4"
    face_recognition: "face_recognition.mp4"
    instance_segmentation: "example.mp4"
    pose_estimation: "example.mp4"
    depth: "example.mp4"
    tiling: "tiling_visdrone_720p.mp4"
    paddle_ocr: "ocr.mp4"
    clip: "example.mp4"
    retrain: "barcode.mp4"
    lane_detection: "example.mp4"
    super_resolution: "example.mp4"
    reid_multisource: "example.mp4"
  json:
    labels: "hailo_4_classes.json"
    barcode_labels: "barcode_labels.json"
    scrfd: "scrfd.json"
    yolov5m_seg: "yolov5m_seg.json"
    yolov5n_seg: "yolov5n_seg.json"
    visdrone: "visdrone.json"

